{
    "swagger": "2.0",
    "paths": {
        "/users/identities/search": {
            "post": {
                "tags": ["Identity"],
                "summary": "获取身份列表",
                "parameters": [
                    {
                        "$ref": "#/definitions/Token"
                    },
                    {
                        "in": "body",
                        "name": "body",
                        "description": "身份列表查询",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "Paging": {
                                    "$ref": "definitions/search/Paging.json"
                                },
                                "Sort": {
                                    "description": "默认编号降序排序",
                                    "$ref": "definitions/search/Sort.json"
                                },
                                "condition": {
                                    "type": "object",
                                    "properties": {
                                        "name": {
                                            "type": "string",
                                            "description": "搜索身份名称字符串"
                                        }
                                    }
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "身份列表查询成功",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "msg": {
                                    "type": "string",
                                    "description": "成功信息"
                                },
                                "code": {
                                    "type": "string",
                                    "description": "成功编码 0",
                                    "required": true
                                },
                                "data": {
                                    "type": "object",
                                    "properties": {
                                        "Paging": {
                                            "$ref": "definitions/search/ResponsePaging.json"
                                        },
                                        "itemList": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "definitions/baseInfo/identity-item.json"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/users/identities": {
            "get": {
                "tags": ["Identity"],
                "summary": "获取全部身份列表",
                "parameters": [
                    {
                        "$ref": "#/definitions/Token"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "身份列表获取成功",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "msg": {
                                    "type": "string",
                                    "description": "成功信息"
                                },
                                "code": {
                                    "type": "string",
                                    "description": "成功编码 0",
                                    "required": true
                                },
                                "data": {
                                    "type": "object",
                                    "properties": {
                                        "itemList": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "definitions/baseInfo/identity-item.json"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": ["Identity"],
                "summary": "新增身份类型",
                "parameters": [
                    {
                        "$ref": "#/definitions/Token"
                    },
                    {
                        "in": "body",
                        "name": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "name": {
                                    "type": "string",
                                    "description": "身份类别名称"
                                },
                                "instruction": {
                                    "type": "string",
                                    "description": "身份类别说明"
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "新增成功，返回ID",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "msg": {
                                    "type": "string",
                                    "description": "成功信息"
                                },
                                "code": {
                                    "type": "string",
                                    "description": "成功编码 0",
                                    "required": true
                                },
                                "data": {
                                    "type": "integer",
                                    "description": "身份类型 ID"
                                }
                            }
                        }
                    }
                }
            }
        },

        "/users/identities/deletion": {
            "post": {
                "tags": ["Identity"],
                "summary": "删除身份类型，身份类型被使用则不允许删除",
                "parameters": [
                    {
                        "$ref": "#/definitions/Token"
                    },
                    {
                        "in": "body",
                        "name": "deletion",
                        "type": "object",
                        "required": true,
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "integer",
                                "description": "身份类型 ID"
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "删除成功，返回结果",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "msg": {
                                    "type": "string",
                                    "description": "成功：已删除；失败：[身份类型名称, ...] 删除失败、[身份类型名称, ...]被使用，不允许删除"
                                },
                                "code": {
                                    "type": "string",
                                    "description": "成功：0; 失败：1001",
                                    "required": true
                                }
                            }
                        }
                    }
                }
            }
        },

        "/users/identities/{identityId}": {
            "put": {
                "tags": ["Identity"],
                "summary": "编辑身份类型",
                "parameters": [
                    {
                        "$ref": "#/definitions/Token"
                    },
                    {
                        "in": "path",
                        "name": "identityId",
                        "required": true,
                        "type": "integer",
                        "description": "价格播报ID"
                    },
                    {
                        "in": "body",
                        "name": "body",
                        "description": "编辑后的身份类型",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "name": {
                                    "type": "string",
                                    "description": "身份类别名称"
                                },
                                "instruction": {
                                    "type": "string",
                                    "description": "身份类别说明"
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "修改成功，在列表页返回修改结果",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "msg": {
                                    "type": "string",
                                    "description": "成功信息"
                                },
                                "code": {
                                    "type": "string",
                                    "description": "成功编码 0",
                                    "required": true
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
